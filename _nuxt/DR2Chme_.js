import{U as W,c as b,az as j,b as x,o as i,w as d,r as F,$ as G,e as t,P as H,aV as K,d as O,aB as Q,aU as X,aC as $,aI as J,aW as Y,l as Z,aE as tt,i as m,aM as et,q as _,aG as at,a5 as g,an as ot,a3 as B,ac as st,x as v,a4 as y,aF as nt,m as rt,a6 as ct,aX as it,aQ as N}from"./bViua8A2.js";import{_ as lt}from"./Of2-jYVC.js";import{_ as ut}from"./CGrfc0b9.js";function A(n,e,o=0){const r={title:"label",path:"to"},u=Object.keys(n).reduce((p,f)=>{if(n[f]){const a=r[f]||f;p[a]=n[f]}return p},{});return Array.isArray(n.children)?u.children=n.children.map(p=>A(p,e,o+1)):u.children=[],u}function dt(n,e){return n.map(o=>A(o,e))}function D(n,e){return!n?.length||!e?[]:n.reduce((o,r)=>(e.path&&(e.path+"/").startsWith(r.path+"/")&&r.children&&(o.push(r),o.push(...D(r.children,e))),o),[])}const pt={base:"mt-8 pb-24 space-y-12"},mt={__name:"UPageBody",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(n){const e=n,o=W(),r=b(()=>j({extend:j(pt),...o.uiPro?.pageBody||{}}));return(u,p)=>(i(),x(t(H),{as:n.as,class:G(r.value({class:e.class}))},{default:d(()=>[F(u.$slots,"default")]),_:3},8,["as","class"]))}};function _t(n,e="Copied to clipboard"){const o=K();navigator.clipboard.writeText(n).then(()=>{o.add({title:e,color:"success",icon:"i-lucide-check-circle"})})}const ft={class:"flex flex-col gap-3 mt-8"},ht={class:"flex text-xs text-muted items-center justify-center gap-2"},gt={key:0},yt={key:1},xt={key:2},vt={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},bt={class:"text-muted text-center max-w-2xl mx-auto"},Ct={class:"flex items-center justify-center gap-2 mt-2"},wt={class:"flex items-center justify-end gap-2 text-sm text-muted"},kt={key:1,class:"flex justify-between items-center mt-8 pt-8 border-t border-gray-200 dark:border-gray-800"},$t={key:1},Nt=O({__name:"[...slug]",async setup(n){let e,o;const r=Q(),{blogPosts:u,loadBlogPosts:p}=X(),f=Array.isArray(r.params.slug)?r.params.slug.join("/"):r.params.slug;[e,o]=$(()=>p()),await e,o();const{data:a}=([e,o]=$(()=>N(r.path,async()=>{try{return u.value.find(h=>h.path===r.path||h.path.includes(f))||null}catch(s){return console.error("Error obteniendo post de Notion:",s),null}},"$DquttgHoet")),e=await e,o(),e);if(!a.value)throw J({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:l}=([e,o]=$(()=>N(`${r.path}-surround`,async()=>{try{const s=u.value,c=s.findIndex(w=>w.path===a.value?.path);if(c===-1)return[null,null];const h=c>0?s[c-1]:null,C=c<s.length-1?s[c+1]:null;return[h,C]}catch(s){return console.error("Error obteniendo posts relacionados:",s),[null,null]}})),e=await e,o(),e),I=Y("navigation",Z([])),M=b(()=>I.value.find(s=>s.path==="/blog")?.children||[]);b(()=>dt(D(M?.value,a.value)).map(({icon:s,...c})=>c));const U=a.value?.seo?.title||a.value?.title,P=a.value?.seo?.description||a.value?.description;tt({title:U,description:P,ogDescription:P,ogTitle:U});const T=b(()=>`${window?.location}`),E=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(s,c)=>{const h=st,C=ot,w=nt,S=lt,z=ut,k=ct,R=mt,V=at,q=et,L=it;return i(),x(L,{class:"mt-20 px-2"},{default:d(()=>[m(q,{class:"relative min-h-screen"},{default:d(()=>[t(a)?(i(),x(V,{key:0},{default:d(()=>[m(C,{to:"/blog",class:"text-sm flex items-center gap-1"},{default:d(()=>[m(h,{name:"lucide:chevron-left"}),c[1]||(c[1]=B(" Blog ",-1))]),_:1}),g("div",ft,[g("div",ht,[t(a).date?(i(),v("span",gt,y(E(t(a).date)),1)):_("",!0),t(a).date&&t(a).minRead?(i(),v("span",yt," - ")):_("",!0),t(a).minRead?(i(),v("span",xt,y(t(a).minRead)+" MIN READ ",1)):_("",!0)]),m(w,{src:t(a).image,alt:t(a).title,class:"rounded-lg w-full h-[300px] object-cover object-center"},null,8,["src","alt"]),g("h1",vt,y(t(a).title),1),g("p",bt,y(t(a).description),1),g("div",Ct,[m(S,rt({orientation:"vertical",color:"neutral",variant:"outline",class:"justify-center items-center text-center"},t(a).author),null,16)])]),m(R,{class:"max-w-3xl mx-auto"},{default:d(()=>[t(a).content?(i(),x(z,{key:0,content:t(a).content},null,8,["content"])):_("",!0),g("div",wt,[m(k,{size:"sm",variant:"link",color:"neutral",label:"Copy link",onClick:c[0]||(c[0]=Bt=>("copyToClipboard"in s?s.copyToClipboard:t(_t))(t(T),"Article link copied to clipboard"))})]),t(l)&&(t(l)[0]||t(l)[1])?(i(),v("div",kt,[t(l)[0]?(i(),x(k,{key:0,to:t(l)[0].path,variant:"ghost",color:"gray",size:"sm",icon:"i-heroicons-arrow-left"},{default:d(()=>[B(y(t(l)[0].title),1)]),_:1},8,["to"])):(i(),v("div",$t)),t(l)[1]?(i(),x(k,{key:2,to:t(l)[1].path,variant:"ghost",color:"gray",size:"sm","trailing-icon":"i-heroicons-arrow-right"},{default:d(()=>[B(y(t(l)[1].title),1)]),_:1},8,["to"])):_("",!0)])):_("",!0)]),_:1})]),_:1})):_("",!0)]),_:1})]),_:1})}}});export{Nt as default};
